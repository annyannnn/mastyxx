<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Салон красоты «Masty» - Запись</title>
    <link rel="stylesheet" href="form-mastyxx/main.css" />
    <!-- CSRF Token для Django -->
    <meta name="csrf-token" content="" />
    <style>
      /* Импорты шрифтов из style.css */
      @import url("https://fonts.googleapis.com/css2?family=Caudex:wght@400;700&display=swap");
      @import url("https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&display=swap");
      @import url("https://fonts.googleapis.com/css2?family=Alegreya:ital,wght@0,400;0,500;0,600;1,400;1,500;1,600&display=swap");
      @import url("https://fonts.googleapis.com/css2?family=Aref+Ruqaa:wght@400;700&display=swap");

      a {
        position: relative;
        color: #484848;
        font-size: 1.25rem;
        text-decoration: none;
      }

      a::before {
        content: "";
        position: absolute;
        left: 0;
        bottom: -5px;
        width: 0;
        height: 1.5px;
        background-color: #cdaa7d;
      }

      a:hover:before {
        width: 100%;
      }

      a::before {
        transition: width 0.35s;
      }

      /* Оригинальные стили из index.html */
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: Arial, sans-serif;
      }

      body {
        background-color: #fdf4f4;
        color: #856a65;
        line-height: 1.4;
      }

      /* Основной контент */
      .container {
        max-width: 800px;
        margin: 0 auto;
        padding: 40px 20px;
      }

      .page {
        display: none;
      }

      .page.active {
        display: block;
      }

      h1 {
        text-align: center;
        margin-bottom: 30px;
        font-size: 24px;
      }

      h2 {
        margin-bottom: 20px;
        font-size: 20px;
        color: #856a65;
      }

      /* Выбор салона */
      .salon-list {
        margin-bottom: 40px;
      }

      .salon-card {
        border: 1px solid #856a65;
        padding: 20px;
        margin-bottom: 15px;
        cursor: pointer;
        transition: border-color 0.3s;
      }

      .salon-card.selected {
        border-color: #856a65;
        background-color: #e8cec9;
      }

      .salon-card:hover {
        border-color: #000;
      }

      .salon-name {
        font-weight: bold;
        font-size: 18px;
        margin-bottom: 5px;
      }

      .salon-address {
        color: #666;
        font-size: 14px;
      }

      /* Выбор услуг */
      .services-categories {
        margin-bottom: 30px;
      }

      .category-section {
        margin-bottom: 30px;
      }

      .category-title {
        font-size: 18px;
        font-weight: bold;
        margin-bottom: 15px;
        padding-bottom: 10px;
        border-bottom: 2px solid #856a65;
      }

      .services-list {
        margin-bottom: 20px;
      }

      .service-item {
        display: flex;
        justify-content: space-between;
        padding: 15px;
        border: 1px solid #856a65;
        margin-bottom: 10px;
        cursor: pointer;
        transition: all 0.3s;
      }

      .service-item.selected {
        background-color: #e8cec9;
        border-color: #856a65;
      }

      .service-item:hover {
        border-color: #000;
      }

      .service-name {
        flex: 1;
      }

      .service-price {
        font-weight: bold;
        margin-left: 20px;
        color: #856a65;
      }

      .service-description {
        font-size: 12px;
        color: #666;
        margin-top: 5px;
      }

      .service-duration {
        font-size: 12px;
        color: #666;
        margin-top: 3px;
      }

      /* Выбор мастеров */
      .specialists-grid {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 20px;
        margin-bottom: 40px;
      }

      .specialist-card {
        border: 1px solid #856a65;
        padding: 20px;
        text-align: center;
        cursor: pointer;
        transition: border-color 0.3s;
        display: flex;
        flex-direction: column;
        align-items: center;
      }

      .specialist-card.selected {
        border-color: #856a65;
        background-color: #e8cec9;
      }

      .specialist-card:hover {
        border-color: #000;
      }

      .specialist-card.disabled {
        opacity: 0.5;
        cursor: not-allowed;
        background-color: #856a65;
      }

      .specialist-card.disabled:hover {
        border-color: #856a65;
      }

      .specialist-image {
        width: 120px;
        height: 120px;
        border-radius: 50%;
        object-fit: cover;
        margin-bottom: 15px;
        border: 2px solid #856a65;
      }

      .specialist-name {
        font-weight: bold;
        margin-bottom: 5px;
        font-size: 16px;
      }

      .specialist-role {
        color: #666;
        font-size: 14px;
        margin-bottom: 5px;
      }

      .specialist-rating {
        margin: 8px 0;
        color: #ffd700;
        font-size: 16px;
        letter-spacing: 2px;
      }

      .specialist-duration {
        font-size: 12px;
        color: #666;
        margin-top: 5px;
      }

      .specialist-specialization {
        font-size: 11px;
        color: #666;
        margin-top: 3px;
        font-style: italic;
      }

      /* Классический календарь */
      .classic-calendar {
        background: #fff;
        border: 1px solid #856a65;
        margin-bottom: 30px;
      }

      .calendar-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 15px 20px;
        background: #e8cec9;
        border-bottom: 1px solid #856a65;
      }

      .calendar-nav {
        background: none;
        border: 1px solid #856a65;
        padding: 8px 12px;
        cursor: pointer;
        font-size: 16px;
      }

      .calendar-nav:hover {
        border-color: #000;
      }

      .current-month {
        font-weight: bold;
        font-size: 18px;
      }

      .calendar-weekdays {
        display: grid;
        grid-template-columns: repeat(7, 1fr);
        background: #f1dbd7;
        border-bottom: 1px solid #856a65;
      }

      .weekday {
        padding: 12px 5px;
        text-align: center;
        font-weight: bold;
        font-size: 12px;
        color: #856a65;
      }

      .calendar-days {
        display: grid;
        grid-template-columns: repeat(7, 1fr);
      }

      .calendar-day {
        padding: 15px 5px;
        text-align: center;
        border: 1px solid #856a65;
        cursor: pointer;
        transition: all 0.3s;
        min-height: 60px;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .calendar-day:hover {
        background: #f1dbd7;
      }

      .calendar-day.selected {
        background: #856a65;
        color: #fff;
        border-color: #000;
      }

      .calendar-day.disabled {
        color: #000;
        cursor: not-allowed;
        background: #efefef;
      }

      .calendar-day.disabled:hover {
        background: #fafafa;
      }

      .calendar-day.other-month {
        color: #999;
        background: #f5f5f5;
      }

      .calendar-day.today {
        background: #cd8b7d;
        font-weight: bold;
      }

      /* Временные слоты */
      .time-slots-container {
        margin-top: 30px;
      }

      .duration-info {
        text-align: center;
        margin-bottom: 20px;
        padding: 10px;
        background: #fff;
        border-radius: 5px;
        font-weight: bold;
      }

      .time-period {
        margin: 20px 0 10px 0;
        font-weight: bold;
        font-size: 16px;
        padding-left: 10px;
        border-left: 3px solid #856a65;
      }

      .time-slots {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
        gap: 10px;
        margin-bottom: 20px;
      }

      .time-slot {
        padding: 12px 8px;
        border: 1px solid #856a65;
        text-align: center;
        cursor: pointer;
        transition: all 0.3s;
        font-size: 14px;
        background: #fdf4f4;
      }

      .time-slot:hover {
        border-color: #000;
        background: #fdf4f4;
      }

      .time-slot.selected {
        background: #e8cec9;
        color: #fff;
        border-color: #000;
      }

      .time-slot.disabled {
        color: #ccc;
        cursor: not-allowed;
        background: #f9f9f9;
      }

      .time-slot.booked {
        background: #ffe6e6;
        color: #856a65;
        cursor: not-allowed;
        border-color: #ffcccc;
      }

      .time-slot.overlap {
        background: #fff0f0;
        color: #ff6b6b;
        cursor: not-allowed;
        border-color: #ffcccc;
      }

      .time-slot.overlap:hover {
        border-color: #ffcccc;
      }

      /* Дополнительная услуга */
      .add-service-prompt {
        text-align: center;
        margin: 40px 0;
        padding: 30px;
        background: #e8cec9;
        border-radius: 10px;
      }

      .add-service-buttons {
        display: flex;
        justify-content: center;
        gap: 20px;
        margin-top: 20px;
      }

      .add-service-btn {
        padding: 12px 30px;
        border: 2px solid #715752;
        background: #856a65;
        cursor: pointer;
        font-size: 16px;
        transition: all 0.3s;
      }

      .add-service-btn.yes {
        background: #856a65;
        color: white;
      }

      .add-service-btn.no {
        background: white;
        color: #856a65;
      }

      .add-service-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      }

      /* Форма данных клиента */
      .form-group {
        margin-bottom: 20px;
      }

      .form-group label {
        display: block;
        margin-bottom: 5px;
        font-weight: bold;
      }

      .form-group input,
      .form-group textarea {
        width: 100%;
        padding: 10px;
        border: 1px solid #856a65;
        font-size: 14px;
      }

      .form-group textarea {
        height: 80px;
        resize: vertical;
      }

      .checkbox-group {
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .checkbox-group input {
        width: auto;
      }

      /* Информация о записи */
      .appointment-summary {
        background: #e8cec9;
        padding: 20px;
        margin: 30px 0;
        border: 1px solid #856a65;
      }

      .summary-item {
        margin-bottom: 10px;
      }

      .selected-services {
        margin-top: 15px;
      }

      .service-summary-item {
        display: flex;
        justify-content: space-between;
        margin-bottom: 5px;
        font-size: 14px;
      }

      .discount-info {
        background: #e8cec9;
        padding: 15px;
        border: 1px solid #856a65;
        margin: 20px 0;
        font-size: 14px;
      }

      .privacy-notice {
        font-size: 12px;
        color: #666;
        margin: 20px 0;
        text-align: center;
      }

      .privacy-notice a {
        font-size: 12px;
        text-decoration: none;
        color: #856a65;
      }

      .privacy-notice a:hover {
        color: #000;
      }

      /* Кнопки */
      .btn {
        display: block;
        width: 200px;
        margin: 30px auto;
        padding: 15px;
        background: #856a65;
        color: #fff;
        border: none;
        font-size: 16px;
        cursor: pointer;
        text-align: center;
        text-decoration: none;
      }

      .btn-continue {
        background: #856a65;
        color: #fff;
      }

      .btn:disabled {
        background: #ccc;
        cursor: not-allowed;
      }

      /* Футер - старый стиль удален, используем новый */

      .copyright {
        text-align: center;
        margin-top: 30px;
        font-size: 12px;
        color: #666666;
      }

      .error-message {
        color: #630000;
        font-size: 12px;
        margin-top: 5px;
        display: none;
      }

      .selection-info {
        background: #e8cec9;
        padding: 15px;
        border-radius: 5px;
        margin-bottom: 20px;
        border-left: 4px solid #856a65;
      }

      /* Стили для отображения нескольких услуг */
      .appointed-service-item {
        background: #f8f9fa;
        padding: 10px;
        margin: 5px 0;
        border-radius: 5px;
        border-left: 3px solid #856a65;
      }

      /* Стили для промокода */
      .promocode-section {
        background: #f8f9fa;
        padding: 20px;
        margin: 20px 0;
        border-radius: 8px;
        border-left: 4px solid #856a65;
      }

      .promocode-input-group {
        display: flex;
        gap: 10px;
        margin-top: 10px;
      }

      .promocode-input {
        flex: 1;
        padding: 10px;
        border: 1px solid #ddd;
        border-radius: 4px;
        font-size: 14px;
      }

      .promocode-btn {
        padding: 10px 20px;
        background: #856a65;
        color: white;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        font-size: 14px;
      }

      .promocode-btn:hover {
        background: #856a65;
      }

      .promocode-btn:disabled {
        background: #856a65;
        cursor: not-allowed;
      }

      .discount-applied {
        color: #856a65;
        font-weight: bold;
        margin-top: 10px;
        display: none;
      }

      .discount-error {
        color: #580000;
        font-size: 12px;
        margin-top: 5px;
        display: none;
      }

      .original-price {
        text-decoration: line-through;
        color: #856a65;
        font-size: 14px;
      }

      .discount-amount {
        color: #856a65;
        font-weight: bold;
      }

      /* Сообщение об ошибке пересечения */
      .overlap-warning {
        background-color: #fff0f0;
        border: 1px solid #ffcccc;
        color: #630000;
        padding: 15px;
        margin: 20px 0;
        border-radius: 5px;
        text-align: center;
        display: none;
      }

      /* Сделаем цвет итоговой стоимости #55403C (включая знак рубля) */
      #page-final .summary-item:last-child > div > span:last-child,
      #page-thankyou .summary-item:last-child > div > span:last-child {
        color: #55403c;
      }

      /* Оригинальная цена должна остаться цвета #856A65 */
      #page-final
        .summary-item:last-child
        > div
        > span:last-child
        .original-price,
      #page-thankyou
        .summary-item:last-child
        > div
        > span:last-child
        .original-price {
        color: #856a65;
      }

      /* Загрузочный спиннер */
      .loading-spinner {
        display: none;
        text-align: center;
        margin: 20px 0;
      }

      .spinner {
        border: 3px solid #f3f3f3;
        border-top: 3px solid #856a65;
        border-radius: 50%;
        width: 40px;
        height: 40px;
        animation: spin 1s linear infinite;
        margin: 0 auto;
      }

      @keyframes spin {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }

      @media (max-width: 768px) {
        .specialists-grid {
          grid-template-columns: 1fr;
        }

        .time-slots {
          grid-template-columns: repeat(3, 1fr);
        }

        .calendar-day {
          padding: 10px 2px;
          font-size: 12px;
          min-height: 50px;
        }

        .footer-content {
          grid-template-columns: 1fr;
          gap: 20px;
        }

        .nav {
          flex-wrap: wrap;
        }

        .nav a {
          margin: 5px 10px;
        }

        .add-service-buttons {
          flex-direction: column;
          gap: 10px;
        }

        .promocode-input-group {
          flex-direction: column;
        }

        .specialist-image {
          width: 100px;
          height: 100px;
        }
      }
    </style>
  </head>
  <body>
    <!-- Обновленный header как в contacts.html -->
    <header>
      <div class="header__container">
        <div class="header__items">
          <div class="header__img">
            <button
              onclick="window.location.href='https://vk.com/club234239337'"
              style="
                background: none;
                border: none;
                cursor: pointer;
                outline: none;
              "
            >
              <img src="img/VK.svg" alt="VK" />
            </button>
          </div>

          <nav>
            <ul>
              <li>
                <a href="https://annyannnn.github.io/mastyxx/index.html"
                  >Главная</a
                >
              </li>
              <li>
                <a href="https://annyannnn.github.io/mastyxx/masters.html"
                  >Мастера</a
                >
              </li>
              <li>
                <a href="https://annyannnn.github.io/mastyxx/price.html"
                  >Прайс</a
                >
              </li>
            </ul>
          </nav>

          <img class="header__logo" src="img/logo.svg" alt="Masty" />

          <nav>
            <ul>
              <li>
                <a href="https://annyannnn.github.io/mastyxx/stock.html"
                  >Акции</a
                >
              </li>
              <li>
                <a href="https://annyannnn.github.io/mastyxx/reviews.html"
                  >Отзывы</a
                >
              </li>
              <li>
                <a href="https://annyannnn.github.io/mastyxx/contacts.html"
                  >Контакты</a
                >
              </li>
            </ul>
          </nav>

          <div class="menu-toggle" id="mobile-menu">
            <span></span>
            <span></span>
            <span></span>
          </div>
        </div>
      </div>
      <hr />
    </header>

    <!-- Основной контент (остается без изменений) -->
    <div class="container">
      <!-- Страница 1: Выбор салона -->
      <div class="page active" id="page-salon">
        <h1>Запись на услугу</h1>
        <h2>Выберите салон</h2>

        <div class="salon-list">
          <div
            class="salon-card"
            onclick="selectSalon('Масти', 'ул. Зацепа, 22', this)"
          >
            <div class="salon-name">Салон красоты «Masty»</div>
            <div class="salon-address">ул. Зацепа, 22</div>
          </div>
        </div>

        <button
          class="btn btn-continue"
          onclick="showPage('page-services')"
          id="btn-continue-salon"
        >
          Далее
        </button>
      </div>

      <!-- Страница 2: Выбор услуг -->
      <div class="page" id="page-services">
        <h1>Выберите услугу</h1>
        <p style="text-align: center; margin-bottom: 20px; color: #666">
          Вы можете выбрать только одну услугу за раз
        </p>

        <!-- Показываем уже выбранные услуги -->
        <div
          id="selected-services-preview"
          style="display: none; margin-bottom: 30px"
        >
          <div class="selection-info">
            <strong>Уже выбраны услуги:</strong>
            <div id="selected-services-list"></div>
          </div>
        </div>

        <div class="services-categories">
          <div class="category-section">
            <div class="category-title">Парикмахерские услуги</div>
            <div class="services-list">
              <div
                class="service-item"
                onclick="toggleService(1, this, 'hair')"
              >
                <div class="service-name">
                  Женская стрижка + укладка (короткие волосы)
                  <div class="service-description">
                    Профессиональная стрижка и укладка
                  </div>
                  <div class="service-duration">Продолжительность: 90 мин</div>
                </div>
                <div class="service-price">7 210 ₽</div>
              </div>
              <div
                class="service-item"
                onclick="toggleService(2, this, 'hair')"
              >
                <div class="service-name">
                  Женская стрижка + укладка (длинные волосы)
                  <div class="service-description">
                    Профессиональная стрижка и укладка
                  </div>
                  <div class="service-duration">Продолжительность: 120 мин</div>
                </div>
                <div class="service-price">7 930 ₽</div>
              </div>
              <div
                class="service-item"
                onclick="toggleService(3, this, 'hair')"
              >
                <div class="service-name">
                  Окрашивание волос
                  <div class="service-description">
                    Окрашивание любой сложности. Цена определяется после
                    консультации в день записи
                  </div>
                  <div class="service-duration">Продолжительность: 180 мин</div>
                </div>
                <div class="service-price">13 000 / 15 000 / 17 000 ₽</div>
              </div>
              <div
                class="service-item"
                onclick="toggleService(4, this, 'hair')"
              >
                <div class="service-name">
                  Придание оттенка Luquias
                  <div class="service-description">
                    + Обработка кончиков волос
                  </div>
                  <div class="service-duration">Продолжительность: 90 мин</div>
                </div>
                <div class="service-price">8 860 ₽</div>
              </div>
            </div>
          </div>

          <div class="category-section">
            <div class="category-title">Массаж</div>
            <div class="services-list">
              <div
                class="service-item"
                onclick="toggleService(5, this, 'massage')"
              >
                <div class="service-name">
                  Стоун массаж
                  <div class="service-description">Массаж горячими камнями</div>
                  <div class="service-duration">Продолжительность: 90 мин</div>
                </div>
                <div class="service-price">4 800 ₽</div>
              </div>
              <div
                class="service-item"
                onclick="toggleService(6, this, 'massage')"
              >
                <div class="service-name">
                  Антицеллюлитный массаж
                  <div class="service-description">Массаж проблемных зон</div>
                  <div class="service-duration">Продолжительность: 60 мин</div>
                </div>
                <div class="service-price">5 200 ₽</div>
              </div>
              <div
                class="service-item"
                onclick="toggleService(7, this, 'massage')"
              >
                <div class="service-name">
                  Тайский массаж
                  <div class="service-description">
                    Традиционный тайский массаж
                  </div>
                  <div class="service-duration">Продолжительность: 90 мин</div>
                </div>
                <div class="service-price">6 700 ₽</div>
              </div>
              <div
                class="service-item"
                onclick="toggleService(8, this, 'massage')"
              >
                <div class="service-name">
                  Массаж лица "Тоффа"
                  <div class="service-description">Испанский массаж</div>
                  <div class="service-duration">Продолжительность: 60 мин</div>
                </div>
                <div class="service-price">5 300 ₽</div>
              </div>
            </div>
          </div>

          <div class="category-section">
            <div class="category-title">Косметология</div>
            <div class="services-list">
              <div
                class="service-item"
                onclick="toggleService(9, this, 'cosmetology')"
              >
                <div class="service-name">
                  Увеличение губ Restylane
                  <div class="service-description">Restylane</div>
                  <div class="service-duration">Продолжительность: 60 мин</div>
                </div>
                <div class="service-price">17 000 ₽</div>
              </div>
              <div
                class="service-item"
                onclick="toggleService(10, this, 'cosmetology')"
              >
                <div class="service-name">
                  Увеличение губ Juvederm
                  <div class="service-description">Juvederm</div>
                  <div class="service-duration">Продолжительность: 60 мин</div>
                </div>
                <div class="service-price">18 000 ₽</div>
              </div>
              <div
                class="service-item"
                onclick="toggleService(11, this, 'cosmetology')"
              >
                <div class="service-name">
                  Лазерная эпиляция
                  <div class="service-description">
                    Удаление нежелательных волос с помощью направленного
                    лазерного излучения
                  </div>
                  <div class="service-duration">Продолжительность: 60 мин</div>
                </div>
                <div class="service-price">2 000 ₽</div>
              </div>
              <div
                class="service-item"
                onclick="toggleService(12, this, 'consultation')"
              >
                <div class="service-name">
                  Консультация
                  <div class="service-description">
                    Проведение диагностики, подбор индивидуального ухода и
                    персональный план диагностики
                  </div>
                  <div class="service-duration">Продолжительность: 60 мин</div>
                </div>
                <div class="service-price">2 000 ₽</div>
              </div>
            </div>
          </div>

          <div class="category-section">
            <div class="category-title">Ногтевой сервис</div>
            <div class="services-list">
              <div
                class="service-item"
                onclick="toggleService(13, this, 'nails')"
              >
                <div class="service-name">
                  Маникюр (без покрытия)
                  <div class="service-description">Без покрытия</div>
                  <div class="service-duration">Продолжительность: 60 мин</div>
                </div>
                <div class="service-price">3000 ₽</div>
              </div>
              <div
                class="service-item"
                onclick="toggleService(14, this, 'nails')"
              >
                <div class="service-name">
                  Маникюр + Calget
                  <div class="service-description">
                    Аппаратный маникюр + гель-лак
                  </div>
                  <div class="service-duration">Продолжительность: 60 мин</div>
                </div>
                <div class="service-price">5 500 ₽</div>
              </div>
              <div
                class="service-item"
                onclick="toggleService(15, this, 'nails')"
              >
                <div class="service-name">
                  Маникюр + наращивание
                  <div class="service-description">
                    Аппаратный маникюр + наращивание + гель-лак
                  </div>
                  <div class="service-duration">Продолжительность: 120 мин</div>
                </div>
                <div class="service-price">7 500 ₽</div>
              </div>
              <div
                class="service-item"
                onclick="toggleService(16, this, 'nails')"
              >
                <div class="service-name">
                  Коррекция наращивания
                  <div class="service-description">
                    Маникюр + опиливание + покрытие
                  </div>
                  <div class="service-duration">Продолжительность: 120 мин</div>
                </div>
                <div class="service-price">6 000 ₽</div>
              </div>
              <div
                class="service-item"
                onclick="toggleService(17, this, 'nails')"
              >
                <div class="service-name">
                  Педикюр комплекс
                  <div class="service-description">Педикюр + покрытие</div>
                  <div class="service-duration">Продолжительность: 60 мин</div>
                </div>
                <div class="service-price">5 900 ₽</div>
              </div>
              <div
                class="service-item"
                onclick="toggleService(18, this, 'nails')"
              >
                <div class="service-name">
                  Ремонт ногтя
                  <div class="service-description">
                    Процедура восстановления маникюра, которая помогает вернуть
                    ногтю аккуратный вид
                  </div>
                  <div class="service-duration">Продолжительность: 60 мин</div>
                </div>
                <div class="service-price">3700 ₽</div>
              </div>
              <div
                class="service-item"
                onclick="toggleService(19, this, 'nails')"
              >
                <div class="service-name">
                  Smart педикюр (мужской)
                  <div class="service-description">Мужской</div>
                  <div class="service-duration">Продолжительность: 60 мин</div>
                </div>
                <div class="service-price">3860 ₽</div>
              </div>
              <div
                class="service-item"
                onclick="toggleService(20, this, 'nails')"
              >
                <div class="service-name">
                  Smart педикюр без покрытия
                  <div class="service-description">
                    Версия аппаратного педикюра, в которой для обработки стоп
                    используют специальные диски с сменными абразивными файлами
                  </div>
                  <div class="service-duration">Продолжительность: 60 мин</div>
                </div>
                <div class="service-price">4500 ₽</div>
              </div>
            </div>
          </div>

          <div class="category-section">
            <div class="category-title">Макияж</div>
            <div class="services-list">
              <div
                class="service-item"
                onclick="toggleService(21, this, 'makeup')"
              >
                <div class="service-name">
                  Дневной макияж
                  <div class="service-description">
                    Косметические средства неярких сочетаний
                  </div>
                  <div class="service-duration">Продолжительность: 60 мин</div>
                </div>
                <div class="service-price">6 200 ₽</div>
              </div>
              <div
                class="service-item"
                onclick="toggleService(22, this, 'makeup')"
              >
                <div class="service-name">
                  Свадебный макияж
                  <div class="service-description">
                    Очень стойкий и практичный макияж
                  </div>
                  <div class="service-duration">Продолжительность: 60 мин</div>
                </div>
                <div class="service-price">7 600 ₽</div>
              </div>
              <div
                class="service-item"
                onclick="toggleService(23, this, 'makeup')"
              >
                <div class="service-name">
                  Обучающий макияж
                  <div class="service-description">
                    Курс, на котором Вы научитесь делать себе макияж легко и с
                    удовольствием!
                  </div>
                  <div class="service-duration">Продолжительность: 60 мин</div>
                </div>
                <div class="service-price">12 500 ₽</div>
              </div>
              <div
                class="service-item"
                onclick="toggleService(24, this, 'makeup')"
              >
                <div class="service-name">
                  Окрашивание бровей
                  <div class="service-description">Коррекция + форма</div>
                  <div class="service-duration">Продолжительность: 60 мин</div>
                </div>
                <div class="service-price">1 350 ₽</div>
              </div>
            </div>
          </div>
        </div>

        <button
          class="btn btn-continue"
          onclick="showPage('page-specialists')"
          id="btn-continue-services"
          disabled
        >
          Далее
        </button>
      </div>

      <!-- Страница 3: Выбор мастера -->
      <div class="page" id="page-specialists">
        <h1>Выберите мастера</h1>

        <div class="selection-info" id="specialist-selection-info">
          <!-- Информация о выбранной услуге будет здесь -->
        </div>

        <div class="specialists-grid" id="specialists-container">
          <!-- Мастера будут загружены через JavaScript -->
        </div>

        <button
          class="btn btn-continue"
          onclick="showPage('page-date')"
          id="btn-continue-specialist"
          disabled
        >
          Далее
        </button>
      </div>

      <!-- Страница 4: Выбор даты и времени -->
      <div class="page" id="page-date">
        <h1>Выберите дату и время</h1>

        <div class="selection-info">
          <strong>Выбранная услуга:</strong>
          <span id="selected-service-info">-</span><br />
          <strong>Выбранный мастер:</strong>
          <span id="selected-specialist-info">-</span>
        </div>

        <!-- Сообщение о пересечении времени -->
        <div class="overlap-warning" id="overlap-warning">
          ⚠️ Выбранное время пересекается с другими вашими записями. Пожалуйста,
          выберите другое время.
        </div>

        <!-- Показываем уже записанные услуги -->
        <div
          id="appointed-services-preview"
          style="display: none; margin-bottom: 30px"
        >
          <div class="selection-info">
            <strong>Уже записаны:</strong>
            <div id="appointed-services-list"></div>
          </div>
        </div>

        <div class="classic-calendar">
          <div class="calendar-header">
            <button class="calendar-nav" onclick="changeMonth(-1)">‹</button>
            <div class="current-month" id="current-month">Январь 2024</div>
            <button class="calendar-nav" onclick="changeMonth(1)">›</button>
          </div>

          <div class="calendar-weekdays">
            <div class="weekday">ПН</div>
            <div class="weekday">ВТ</div>
            <div class="weekday">СР</div>
            <div class="weekday">ЧТ</div>
            <div class="weekday">ПТ</div>
            <div class="weekday">СБ</div>
            <div class="weekday">ВС</div>
          </div>

          <div class="calendar-days" id="calendar-days">
            <!-- Дни будут загружены через JavaScript -->
          </div>
        </div>

        <div class="time-slots-container">
          <div class="duration-info" id="duration-info">
            Выберите мастера и дату для просмотра доступного времени
          </div>

          <!-- Загрузочный спиннер -->
          <div class="loading-spinner" id="loading-slots">
            <div class="spinner"></div>
            <p>Загрузка доступного времени...</p>
          </div>

          <div id="time-slots-display" style="display: none">
            <div class="time-period">Утренние часы</div>
            <div class="time-slots" id="morning-slots"></div>

            <div class="time-period">Дневные часы</div>
            <div class="time-slots" id="day-slots"></div>

            <div class="time-period">Вечерние часы</div>
            <div class="time-slots" id="evening-slots"></div>
          </div>
        </div>

        <button
          class="btn btn-continue"
          onclick="showPage('page-add-service')"
          id="btn-continue-date"
          disabled
        >
          Далее
        </button>
      </div>

      <!-- Страница 5: Дополнительная услуга -->
      <div class="page" id="page-add-service">
        <h1>Хотите добавить еще услугу?</h1>

        <!-- Показываем все выбранные услуги -->
        <div id="all-appointed-services" style="margin-bottom: 30px">
          <!-- Список всех записанных услуг будет здесь -->
        </div>

        <div class="add-service-prompt">
          <p style="font-size: 18px; margin-bottom: 20px">
            Вы можете добавить дополнительные услуги к вашему визиту
          </p>

          <div class="add-service-buttons">
            <button class="add-service-btn yes" onclick="addAnotherService()">
              Да, добавить услугу
            </button>
            <button class="add-service-btn no" onclick="showPage('page-final')">
              Нет, продолжить
            </button>
          </div>
        </div>
      </div>

      <!-- Страница 6: Финальная форма -->
      <div class="page" id="page-final">
        <h1>Ваши данные</h1>

        <div class="form-group">
          <label>Имя *</label>
          <input
            type="text"
            placeholder="Введите ваше имя"
            id="client-name"
            oninput="validateForm()"
          />
          <div class="error-message" id="name-error">
            Пожалуйста, введите ваше имя
          </div>
        </div>

        <div class="form-group">
          <label>Телефон *</label>
          <input
            type="tel"
            placeholder="+7 (999) 999-99-99"
            id="client-phone"
            oninput="formatPhoneSimple(this)"
            onfocus="this.style.borderColor='#000'"
            onblur="validatePhoneSimple()"
          />
          <div class="error-message" id="phone-error">
            Введите 10 цифр после +7
          </div>
        </div>

        <div class="form-group">
          <label>E-mail</label>
          <input
            type="email"
            placeholder="Введите ваш e-mail"
            id="client-email"
            oninput="validateEmail()"
          />
          <div class="error-message" id="email-error">
            Пожалуйста, введите корректный e-mail адрес
          </div>
        </div>

        <div class="form-group">
          <label>Комментарий (до 5000 символов)</label>
          <textarea
            placeholder="Дополнительные пожелания"
            id="client-comment"
            maxlength="5000"
            oninput="updateCommentCounter()"
          ></textarea>
          <div
            style="
              text-align: right;
              font-size: 12px;
              color: #666;
              margin-top: 5px;
            "
          >
            <span id="comment-counter">0</span>/5000 символов
          </div>
        </div>

        <!-- Секция промокода -->
        <div class="promocode-section">
          <h3 style="margin-bottom: 10px">Есть промокод?</h3>
          <p style="color: #666; margin-bottom: 10px; font-size: 14px">
            Введите промокод для получения скидки
          </p>
          <div class="promocode-input-group">
            <input
              type="text"
              class="promocode-input"
              id="promocode-input"
              placeholder="Введите промокод"
              maxlength="10"
            />
            <button
              class="promocode-btn"
              id="apply-promocode"
              onclick="applyPromocode()"
            >
              Применить
            </button>
          </div>
          <div class="discount-applied" id="discount-applied">
            ✅ Промокод применен! Скидка 5% активирована
          </div>
          <div class="discount-error" id="discount-error">
            ❌ Неверный промокод
          </div>
        </div>

        <div class="appointment-summary">
          <h3>Детали записи</h3>
          <div class="summary-item">
            <strong>Салон:</strong> <span id="summary-salon">-</span>
          </div>

          <div class="selected-services">
            <strong>Выбранные услуги:</strong>
            <div id="summary-services">Не выбрано</div>

            <!-- Блок скидки -->
            <div
              class="summary-item"
              id="discount-section"
              style="display: none"
            >
              <div
                style="
                  display: flex;
                  justify-content: space-between;
                  align-items: center;
                "
              >
                <span>Дополнительная скидка:</span>
                <span class="discount-amount" id="discount-amount">-0 ₽</span>
              </div>
            </div>

            <div class="summary-item">
              <div
                style="
                  display: flex;
                  justify-content: space-between;
                  align-items: center;
                "
              >
                <span><strong>Общая стоимость:</strong></span>
                <span>
                  <span
                    class="original-price"
                    id="original-price"
                    style="display: none"
                    >0 ₽</span
                  >
                  <strong id="summary-total">0</strong> ₽
                </span>
              </div>
            </div>
          </div>
        </div>

        <div class="discount-info">
          Специальное предложение: скидка 5% на любую услугу при записи онлайн
          по промокоду MASTY5
        </div>

        <div class="privacy-notice">
          Нажимая кнопку "Записаться", вы соглашаетесь с
          <a
            href="https://drive.google.com/file/d/13b63qlWGg9jmx3nlAFUd0HW3iBsBetq5/view?usp=sharing"
            target="_blank"
            >политикой конфиденциальности</a
          >
          и обработкой персональных данных.
        </div>

        <button class="btn" onclick="submitForm()" id="btn-submit" disabled>
          Записаться
        </button>
      </div>

      <!-- Страница 7: Благодарность -->
      <div class="page" id="page-thankyou">
        <h1>Ваша заявка обрабатывается.</h1>
        <p style="text-align: center; margin: 20px 0">
          Наш специалист с Вами свяжется в ближайшее время
        </p>
        <h2 style="text-align: center; margin: 30px 0">Спасибо!</h2>

        <div class="appointment-summary">
          <h3>Информация о вашей записи</h3>
          <div class="summary-item">
            <strong>Номер записи:</strong> #<span id="booking-number"
              >11201</span
            >
          </div>
          <div class="summary-item">
            <strong>Имя:</strong> <span id="final-name">-</span>
          </div>
          <div class="summary-item">
            <strong>Телефон:</strong> <span id="final-phone">-</span>
          </div>
          <div class="summary-item">
            <strong>Салон:</strong> <span id="final-salon">-</span>
          </div>

          <div class="selected-services">
            <strong>Услуги:</strong>
            <div id="final-services">-</div>

            <!-- Блок скидки на странице благодарности -->
            <div
              class="summary-item"
              id="final-discount-section"
              style="display: none"
            >
              <div
                style="
                  display: flex;
                  justify-content: space-between;
                  align-items: center;
                "
              >
                <span>Дополнительная скидка:</span>
                <span class="discount-amount" id="final-discount-amount"
                  >-0 ₽</span
                >
              </div>
            </div>

            <div class="summary-item">
              <div
                style="
                  display: flex;
                  justify-content: space-between;
                  align-items: center;
                "
              >
                <span><strong>Общая стоимость:</strong></span>
                <span>
                  <span
                    class="original-price"
                    id="final-original-price"
                    style="display: none"
                    >0 ₽</span
                  >
                  <strong id="final-total">0</strong> ₽
                </span>
              </div>
            </div>
          </div>
        </div>

        <button class="btn" onclick="showPage('page-salon')">
          Записаться снова
        </button>
      </div>
    </div>

    <!-- Обновленный footer как в contacts.html -->
    <footer>
      <div class="footer__items">
        <div class="footer__img">
          <img src="img/footer__logo.svg" alt="" />
        </div>

        <div class="footer__contacts">
          <h2>Контакты</h2>
          <ul>
            <li>+7 (909) 999-99-99</li>
            <li>+7 (915) 123-45-67</li>
            <li>Рязанский проспект, дом 39 лит. С</li>
          </ul>
        </div>
        <div class="working__time">
          <h2>Режим работы</h2>
          <ul>
            <li>C 10:00 до 21:00 (Пн-Пт)</li>
            <li>С 11:00 до 20:00 (Сб-Вс)</li>
          </ul>
        </div>
        <div class="social">
          <h2>Мы в социальных сетях</h2>
          <div>
            <button
              onclick="window.location.href='https://vk.com/club234239337'"
              style="
                background: none;
                border: none;
                padding: 0;
                cursor: pointer;
                outline: none;
              "
            >
              <img src="img/VK.png" alt="" />
            </button>
            <button
              onclick="window.location.href='https://max.ru'"
              style="
                background: none;
                border: none;
                padding: 0;
                cursor: pointer;
                outline: none;
              "
            >
              <img src="img/MAX.png" alt="" />
            </button>
          </div>
        </div>
      </div>
    </footer>

    <section>
      <div class="end">
        <h1>Copyright © 2017 - 2025</h1>
      </div>
    </section>

    <script src="form-matyxx/modal.js"></script>
    <script src="form-matyxx/main.js"></script>
  </body>
</html>
